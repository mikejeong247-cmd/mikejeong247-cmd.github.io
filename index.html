<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <title>😎 이모지 검색 & 복사</title>
    <style>
      body {
        font-family: sans-serif;
        padding: 20px;
      }
      input[type="text"] {
        padding: 10px;
        margin-bottom: 20px;
        width: 100%;
        font-size: 16px;
      }
      .emoji {
        font-size: 24px;
        margin: 5px;
        display: inline-block;
        cursor: pointer;
      }
    </style>
  </head>
  <body>
    <h2>😎 이모지 리스트</h2>
    <input type="text" id="search" placeholder="이모지를 검색하세요..." onkeyup="filterEmoji()">
    <div id="emoji-container"></div>

    <script>
      async function fetchEmoji() {
        const url = "https://script.google.com/macros/s/AKfycbxW_aP5LBIGLcfXfA5Hc1Wm7JvS-abc1234567890/exec"; // 이곳을 두목님 스프레드시트용 배포 URL로 바꾸세요

        try {
          const response = await fetch(url);
          const data = await response.json();
          const container = document.getElementById("emoji-container");
          container.innerHTML = "";

          data.forEach(row => {
            const emoji = row[0];
            const div = document.createElement("div");
            div.className = "emoji";
            div.textContent = emoji;
            div.onclick = () => {
              navigator.clipboard.writeText(emoji);
              alert("복사 완료! " + emoji);
            };
            container.appendChild(div);
          });
        } catch (error) {
          console.error("이모지 불러오기 오류:", error);
        }
      }

      function filterEmoji() {
        const keyword = document.getElementById("search").value.toLowerCase();
        const emojis = document.getElementsByClassName("emoji");

        for (let i = 0; i < emojis.length; i++) {
          const text = emojis[i].textContent.toLowerCase();
          emojis[i].style.display = text.includes(keyword) ? "inline-block" : "none";
        }
      }

      fetchEmoji(); // 페이지 로드 시 실행
    </script>
  </body>
</html>
